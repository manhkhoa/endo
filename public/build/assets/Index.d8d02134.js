import{s as w,r as s,o as d,h as y,j as e,a as I,d as n,m as N,A as S,p as _,y as F,e as o,v as r,x as i,i as h,c as U,z as E,F as O}from"./app.ca5d1c04.js";const z={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(V,{emit:b}){const c={name:"",alias:""},u=w({...c});return($,p)=>{const f=s("BaseInput"),v=s("FilterForm");return d(),y(v,{"init-form":c,form:u,onHide:p[2]||(p[2]=m=>b("hide"))},{default:e(()=>[I("div",z,[I("div",q,[n(f,{type:"text",modelValue:u.name,"onUpdate:modelValue":p[0]||(p[0]=m=>u.name=m),name:"name",label:$.$trans("company.branch.props.name")},null,8,["modelValue","label"])]),I("div",G,[n(f,{type:"text",modelValue:u.alias,"onUpdate:modelValue":p[1]||(p[1]=m=>u.alias=m),name:"alias",label:$.$trans("company.branch.props.alias")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"CompanyBranchList"},W=Object.assign(K,{setup(V){const b=N(),c=S("emitter");let u=["filter"];_("branch:create")&&u.unshift("create");let $=[];_("branch:export")&&($=["print","pdf","excel"]),_("branch:create")&&$.unshift("import");const p="company/branch/",f=F(!1),v=F(!1),m=w({}),D=l=>{Object.assign(m,l)};return(l,a)=>{const A=s("PageHeaderAction"),H=s("PageHeader"),T=s("BaseImport"),B=s("ParentTransition"),g=s("DataCell"),C=s("FloatingMenuItem"),P=s("FloatingMenu"),R=s("DataRow"),j=s("BaseButton"),L=s("DataTable"),M=s("ListItem");return d(),y(M,{"init-url":p,onSetItems:D},{header:e(()=>[n(H,{title:l.$trans("company.branch.branch"),navs:[{label:l.$trans("company.company"),path:"Company"}]},{default:e(()=>[n(A,{url:"company/branches/",name:"CompanyBranch",title:l.$trans("company.branch.branch"),actions:o(u),"dropdown-actions":o($),onToggleFilter:a[0]||(a[0]=t=>f.value=!f.value),onToggleImport:a[1]||(a[1]=t=>v.value=!v.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),import:e(()=>[n(B,{appear:"",visibility:v.value},{default:e(()=>[n(T,{path:"company/branches/import",onCancelled:a[2]||(a[2]=t=>v.value=!1),onHide:a[3]||(a[3]=t=>v.value=!1),onCompleted:a[4]||(a[4]=t=>o(c).emit("listItems"))})]),_:1},8,["visibility"])]),filter:e(()=>[n(B,{appear:"",visibility:f.value},{default:e(()=>[n(J,{onRefresh:a[5]||(a[5]=t=>o(c).emit("listItems")),onHide:a[6]||(a[6]=t=>f.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(B,{appear:"",visibility:!0},{default:e(()=>[n(L,{header:m.headers,meta:m.meta,module:"company.branch",onRefresh:a[8]||(a[8]=t=>o(c).emit("listItems"))},{actionButton:e(()=>[o(_)("branch:create")?(d(),y(j,{key:0,onClick:a[7]||(a[7]=t=>o(b).push({name:"CompanyBranchCreate"}))},{default:e(()=>[r(i(l.$trans("global.add",{attribute:l.$trans("company.branch.branch")})),1)]),_:1})):h("",!0)]),default:e(()=>[(d(!0),U(O,null,E(m.data,t=>(d(),y(R,{key:t.uuid},{default:e(()=>[n(g,{name:"name"},{default:e(()=>[r(i(t.name),1)]),_:2},1024),n(g,{name:"code"},{default:e(()=>[r(i(t.code),1)]),_:2},1024),n(g,{name:"alias"},{default:e(()=>[r(i(t.alias),1)]),_:2},1024),n(g,{name:"parent"},{default:e(()=>[r(i(t.parent?t.parent.name:"-"),1)]),_:2},1024),n(g,{name:"createdAt"},{default:e(()=>[r(i(t.createdAt),1)]),_:2},1024),n(g,{name:"action"},{default:e(()=>[n(P,null,{default:e(()=>[n(C,{icon:"fas fa-arrow-circle-right",onClick:k=>o(b).push({name:"CompanyBranchShow",params:{uuid:t.uuid}})},{default:e(()=>[r(i(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(_)("branch:edit")?(d(),y(C,{key:0,icon:"fas fa-edit",onClick:k=>o(b).push({name:"CompanyBranchEdit",params:{uuid:t.uuid}})},{default:e(()=>[r(i(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):h("",!0),o(_)("branch:create")?(d(),y(C,{key:1,icon:"fas fa-copy",onClick:k=>o(b).push({name:"CompanyBranchDuplicate",params:{uuid:t.uuid}})},{default:e(()=>[r(i(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):h("",!0),o(_)("branch:delete")?(d(),y(C,{key:2,icon:"fas fa-trash",onClick:k=>o(c).emit("deleteItem",{uuid:t.uuid})},{default:e(()=>[r(i(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):h("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
