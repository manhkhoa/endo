import{s as w,r as n,o as p,h as $,j as e,a as T,d as t,m as M,u as N,A as E,b,y as O,e as i,v as m,x as d,i as B,c as y,z as U,F as z}from"./app.ca5d1c04.js";const q={class:"grid grid-cols-3 gap-6"},x={class:"col-span-3 sm:col-span-1"},G={__name:"Filter",emits:["hide"],setup(A,{emit:c}){const f={name:""},r=w({...f});return(h,l)=>{const _=n("BaseInput"),k=n("FilterForm");return p(),$(k,{"init-form":f,form:r,onHide:l[1]||(l[1]=u=>c("hide"))},{default:e(()=>[T("div",q,[T("div",x,[t(_,{type:"text",modelValue:r.name,"onUpdate:modelValue":l[0]||(l[0]=u=>r.name=u),name:"name",label:h.$trans("team.props.name")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},J={key:0},K=T("i",{class:"fas fa-check-circle fa-lg cursor-pointer text-success"},null,-1),Q=[K],W={name:"TodoList"},Y=Object.assign(W,{setup(A){const c=M(),f=N(),r=E("emitter"),h=b(()=>f.getters["auth/user/currentTeamId"]),l=b(()=>f.getters["auth/user/isSuperAdmin"]);let _=["filter"];l.value&&_.unshift("create");const k="team/",u=O(!1),g=w({}),D=o=>{Object.assign(g,o)};return(o,s)=>{const V=n("PageHeaderAction"),H=n("PageHeader"),I=n("ParentTransition"),C=n("DataCell"),v=n("FloatingMenuItem"),P=n("FloatingMenu"),S=n("DataRow"),R=n("BaseButton"),j=n("DataTable"),L=n("ListItem");return p(),$(L,{"init-url":k,onSetItems:D},{header:e(()=>[t(H,{title:o.$trans("team.team")},{default:e(()=>[t(V,{url:"teams/",name:"Team",title:o.$trans("team.team"),actions:i(_),"dropdown-actions":["print","pdf","excel"],onToggleFilter:s[0]||(s[0]=a=>u.value=!u.value)},null,8,["title","actions"])]),_:1},8,["title"])]),filter:e(()=>[t(I,{appear:"",visibility:u.value},{default:e(()=>[t(G,{onRefresh:s[1]||(s[1]=a=>i(r).emit("listItems")),onHide:s[2]||(s[2]=a=>u.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(I,{appear:"",visibility:!0},{default:e(()=>[t(j,{header:g.headers,meta:g.meta,module:"team",onRefresh:s[4]||(s[4]=a=>i(r).emit("listItems"))},{actionButton:e(()=>[i(l)?(p(),$(R,{key:0,onClick:s[3]||(s[3]=a=>i(c).push({name:"TeamCreate"}))},{default:e(()=>[m(d(o.$trans("global.add",{attribute:o.$trans("team.team")})),1)]),_:1})):B("",!0)]),default:e(()=>[(p(!0),y(z,null,U(g.data,a=>(p(),$(S,{key:a.uuid},{default:e(()=>[t(C,{name:"name"},{default:e(()=>[m(d(a.name)+" ",1),a.id==i(h)?(p(),y("span",J,Q)):B("",!0)]),_:2},1024),t(C,{name:"createdAt"},{default:e(()=>[m(d(a.createdAt),1)]),_:2},1024),t(C,{name:"action"},{default:e(()=>[t(P,null,{default:e(()=>[t(v,{icon:"fas fa-cog",onClick:F=>i(c).push({name:"TeamConfig",params:{uuid:a.uuid}})},{default:e(()=>[m(d(o.$trans("team.config.config")),1)]),_:2},1032,["onClick"]),t(v,{icon:"fas fa-arrow-circle-right",onClick:F=>i(c).push({name:"TeamShow",params:{uuid:a.uuid}})},{default:e(()=>[m(d(o.$trans("general.show")),1)]),_:2},1032,["onClick"]),t(v,{icon:"fas fa-edit",onClick:F=>i(c).push({name:"TeamEdit",params:{uuid:a.uuid}})},{default:e(()=>[m(d(o.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(v,{icon:"fas fa-trash",onClick:F=>i(r).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[m(d(o.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Y as default};
