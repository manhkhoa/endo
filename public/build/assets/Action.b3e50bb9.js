import{k as v,q as F,s as _,r as p,o as g,h as b,j as V,a as n,d as l,e as o,i as f,I as P,c as H,F as S}from"./app.ca5d1c04.js";const j={class:"grid grid-cols-3 gap-6"},A={class:"col-span-3"},E={class:"col-span-3 sm:col-span-1"},L={class:"col-span-3 sm:col-span-1"},O={class:"mt-6 grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},C={class:"col-span-3 sm:col-span-1"},I={class:"col-span-3 sm:col-span-1"},N={class:"col-span-3"},M={class:"grid grid-cols-1"},w={class:"col"},R={name:"TaskForm"},h=Object.assign(R,{setup(T){const u=v(),i={title:"",category:"",priority:"",startDate:"",dueDate:"",dueTime:"",description:"",media:[],mediaToken:"",mediaHash:""},k="task/",r=F(k),a=_({...i}),d=_({category:"",priority:"",isLoaded:!u.params.uuid}),U=s=>{var e,y,c,m;Object.assign(i,{...s,category:(e=s.category)==null?void 0:e.uuid,priority:(y=s.priority)==null?void 0:y.uuid}),Object.assign(a,P(i)),d.category=(c=s.category)==null?void 0:c.name,d.priority=(m=s.priority)==null?void 0:m.name,d.isLoaded=!0};return(s,e)=>{const y=p("BaseInput"),c=p("BaseSelectSearch"),m=p("DatePicker"),D=p("BaseEditor"),$=p("MediaUpload"),B=p("FormAction");return g(),b(B,{"init-url":k,"init-form":i,form:a,"set-form":U,redirect:"Task"},{default:V(()=>[n("div",j,[n("div",A,[l(y,{type:"text",modelValue:a.title,"onUpdate:modelValue":e[0]||(e[0]=t=>a.title=t),name:"title",label:s.$trans("task.props.title"),error:o(r).title,"onUpdate:error":e[1]||(e[1]=t=>o(r).title=t),autofocus:""},null,8,["modelValue","label","error"])]),n("div",E,[d.isLoaded?(g(),b(c,{key:0,name:"category",label:s.$trans("global.select",{attribute:s.$trans("task.category.category")}),modelValue:a.category,"onUpdate:modelValue":e[2]||(e[2]=t=>a.category=t),error:o(r).category,"onUpdate:error":e[3]||(e[3]=t=>o(r).category=t),"label-prop":"name","value-prop":"uuid","init-search":d.category,"init-search-key":"name","search-action":"option/list","additional-search-query":{type:"task_category"}},null,8,["label","modelValue","error","init-search"])):f("",!0)]),n("div",L,[d.isLoaded?(g(),b(c,{key:0,name:"priority",label:s.$trans("global.select",{attribute:s.$trans("task.priority.priority")}),modelValue:a.priority,"onUpdate:modelValue":e[4]||(e[4]=t=>a.priority=t),error:o(r).priority,"onUpdate:error":e[5]||(e[5]=t=>o(r).priority=t),"label-prop":"name","value-prop":"uuid","init-search":d.priority,"init-search-key":"name","search-action":"option/list","additional-search-query":{type:"task_priority"}},null,8,["label","modelValue","error","init-search"])):f("",!0)])]),n("div",O,[n("div",q,[l(m,{modelValue:a.startDate,"onUpdate:modelValue":e[6]||(e[6]=t=>a.startDate=t),name:"startDate",label:s.$trans("task.props.start_date"),"no-clear":"",error:o(r).startDate,"onUpdate:error":e[7]||(e[7]=t=>o(r).startDate=t)},null,8,["modelValue","label","error"])]),n("div",C,[l(m,{modelValue:a.dueDate,"onUpdate:modelValue":e[8]||(e[8]=t=>a.dueDate=t),name:"dueDate",label:s.$trans("task.props.due_date"),"no-clear":"",error:o(r).dueDate,"onUpdate:error":e[9]||(e[9]=t=>o(r).dueDate=t)},null,8,["modelValue","label","error"])]),n("div",I,[l(m,{modelValue:a.dueTime,"onUpdate:modelValue":e[10]||(e[10]=t=>a.dueTime=t),name:"dueTime",label:s.$trans("task.props.due_time"),as:"time",error:o(r).dueTime,"onUpdate:error":e[11]||(e[11]=t=>o(r).dueTime=t)},null,8,["modelValue","label","error"])]),n("div",N,[l(D,{id:"Testing",modelValue:a.description,"onUpdate:modelValue":e[12]||(e[12]=t=>a.description=t),name:"description",edit:!!o(u).params.uuid,label:s.$trans("task.props.description"),error:o(r).description,"onUpdate:error":e[13]||(e[13]=t=>o(r).description=t)},null,8,["modelValue","edit","label","error"])])]),n("div",M,[n("div",w,[l($,{multiple:"",label:s.$trans("general.file"),module:"task",media:a.media,onSetHash:e[14]||(e[14]=t=>a.mediaHash=t),onSetToken:e[15]||(e[15]=t=>a.mediaToken=t)},null,8,["label","media"])])])]),_:1},8,["form"])}}}),z={name:"TaskAction"},J=Object.assign(z,{setup(T){const u=v();return(i,k)=>{const r=p("PageHeaderAction"),a=p("PageHeader"),d=p("ParentTransition");return g(),H(S,null,[l(a,{title:i.$trans(o(u).meta.trans,{attribute:i.$trans(o(u).meta.label)}),navs:[{label:i.$trans("task.task"),path:"Task"}]},{default:V(()=>[l(r,{name:"Task",title:i.$trans("task.task"),actions:["list"]},null,8,["title"])]),_:1},8,["title","navs"]),l(d,{appear:"",visibility:!0},{default:V(()=>[l(h)]),_:1})],64)}}});export{J as default};
