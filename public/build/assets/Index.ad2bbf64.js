import{s as w,r as s,o as u,h as _,j as e,a as F,d as n,m as N,A as S,p as y,y as B,e as o,v as p,x as d,i as b,c as U,z as E,F as O}from"./app.ca5d1c04.js";const z={class:"grid grid-cols-3 gap-6"},q={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={__name:"Filter",emits:["hide"],setup(V,{emit:$}){const c={name:"",alias:""},i=w({...c});return(g,m)=>{const f=s("BaseInput"),v=s("FilterForm");return u(),_(v,{"init-form":c,form:i,onHide:m[2]||(m[2]=r=>$("hide"))},{default:e(()=>[F("div",z,[F("div",q,[n(f,{type:"text",modelValue:i.name,"onUpdate:modelValue":m[0]||(m[0]=r=>i.name=r),name:"name",label:g.$trans("company.department.props.name")},null,8,["modelValue","label"])]),F("div",G,[n(f,{type:"text",modelValue:i.alias,"onUpdate:modelValue":m[1]||(m[1]=r=>i.alias=r),name:"alias",label:g.$trans("company.department.props.alias")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},K={name:"CompanyDepartmentList"},W=Object.assign(K,{setup(V){const $=N(),c=S("emitter");let i=["filter"];y("department:create")&&i.unshift("create");let g=[];y("department:export")&&(g=["print","pdf","excel"]),y("department:create")&&g.unshift("import");const m="company/department/",f=B(!1),v=B(!1),r=w({}),A=l=>{Object.assign(r,l)};return(l,t)=>{const H=s("PageHeaderAction"),T=s("PageHeader"),P=s("BaseImport"),I=s("ParentTransition"),C=s("DataCell"),k=s("FloatingMenuItem"),h=s("FloatingMenu"),R=s("DataRow"),j=s("BaseButton"),L=s("DataTable"),M=s("ListItem");return u(),_(M,{"init-url":m,onSetItems:A},{header:e(()=>[n(T,{title:l.$trans("company.department.department"),navs:[{label:l.$trans("company.company"),path:"Company"}]},{default:e(()=>[n(H,{url:"company/departments/",name:"CompanyDepartment",title:l.$trans("company.department.department"),actions:o(i),"dropdown-actions":o(g),onToggleFilter:t[0]||(t[0]=a=>f.value=!f.value),onToggleImport:t[1]||(t[1]=a=>v.value=!v.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title","navs"])]),import:e(()=>[n(I,{appear:"",visibility:v.value},{default:e(()=>[n(P,{path:"company/departments/import",onCancelled:t[2]||(t[2]=a=>v.value=!1),onHide:t[3]||(t[3]=a=>v.value=!1),onCompleted:t[4]||(t[4]=a=>o(c).emit("listItems"))})]),_:1},8,["visibility"])]),filter:e(()=>[n(I,{appear:"",visibility:f.value},{default:e(()=>[n(J,{onRefresh:t[5]||(t[5]=a=>o(c).emit("listItems")),onHide:t[6]||(t[6]=a=>f.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(I,{appear:"",visibility:!0},{default:e(()=>[n(L,{header:r.headers,meta:r.meta,module:"company.department",onRefresh:t[8]||(t[8]=a=>o(c).emit("listItems"))},{actionButton:e(()=>[o(y)("department:create")?(u(),_(j,{key:0,onClick:t[7]||(t[7]=a=>o($).push({name:"CompanyDepartmentCreate"}))},{default:e(()=>[p(d(l.$trans("global.add",{attribute:l.$trans("company.department.department")})),1)]),_:1})):b("",!0)]),default:e(()=>[(u(!0),U(O,null,E(r.data,a=>(u(),_(R,{key:a.uuid},{default:e(()=>[n(C,{name:"name"},{default:e(()=>[p(d(a.name),1)]),_:2},1024),n(C,{name:"alias"},{default:e(()=>[p(d(a.alias),1)]),_:2},1024),n(C,{name:"createdAt"},{default:e(()=>[p(d(a.createdAt),1)]),_:2},1024),n(C,{name:"action"},{default:e(()=>[n(h,null,{default:e(()=>[n(k,{icon:"fas fa-arrow-circle-right",onClick:D=>o($).push({name:"CompanyDepartmentShow",params:{uuid:a.uuid}})},{default:e(()=>[p(d(l.$trans("general.show")),1)]),_:2},1032,["onClick"]),o(y)("department:edit")?(u(),_(k,{key:0,icon:"fas fa-edit",onClick:D=>o($).push({name:"CompanyDepartmentEdit",params:{uuid:a.uuid}})},{default:e(()=>[p(d(l.$trans("general.edit")),1)]),_:2},1032,["onClick"])):b("",!0),o(y)("department:create")?(u(),_(k,{key:1,icon:"fas fa-copy",onClick:D=>o($).push({name:"CompanyDepartmentDuplicate",params:{uuid:a.uuid}})},{default:e(()=>[p(d(l.$trans("general.duplicate")),1)]),_:2},1032,["onClick"])):b("",!0),o(y)("department:delete")?(u(),_(k,{key:2,icon:"fas fa-trash",onClick:D=>o(c).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[p(d(l.$trans("general.delete")),1)]),_:2},1032,["onClick"])):b("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{W as default};
