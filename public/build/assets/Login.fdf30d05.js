import{k as z,m as D,u as N,q as S,g as l,s as q,t as A,r as u,f as H,o as r,c as _,d as i,j as s,F as I,a as c,e as t,h,v as w,x as k,i as d,w as g}from"./app.ca5d1c04.js";const J={class:"space-y-6"},K={class:"flex items-center justify-between"},Q={key:0,class:"flex justify-center space-x-2"},W=c("i",{class:"fab fa-google"},null,-1),X=c("i",{class:"fab fa-facebook"},null,-1),Y=c("i",{class:"fab fa-twitter"},null,-1),Z=c("i",{class:"fab fa-github"},null,-1),ee={key:1,class:"flex items-center justify-center"},oe={__name:"Login",setup(te){const y=z(),V=D(),O=N(),B="auth/user/",p=S(B),$=l("auth.enableOauthLogin"),F=l("auth.enableRegistration"),G=l("auth.enableResetPassword"),R=l("auth.enableGoogleOauthLogin"),C=l("auth.enableFacebookOauthLogin"),E=l("auth.enableTwitterOauthLogin"),T=l("auth.enableGithubOauthLogin"),b={email:"",password:"",rememberMe:!1},n=q({...b});A(async()=>{await O.dispatch("auth/user/setCSRF")});const U=()=>{Object.assign(n,b),V.push(y.query.ref?y.query.ref:{name:"Dashboard"})};return(e,a)=>{const j=u("GuestHeader"),v=u("BaseInput"),x=u("BaseCheckbox"),L=u("BaseLink"),m=u("BaseButton"),M=u("FormAction"),P=u("ParentTransition"),f=H("tooltip");return r(),_(I,null,[i(j,{label:e.$trans("auth.login.login_title")},null,8,["label"]),i(P,{appear:"",visibility:!0},{default:s(()=>[i(M,{"no-card":"","no-action-button":"","init-url":B,"init-form":b,form:n,action:"login","after-submit":U},{default:s(()=>[c("div",J,[i(v,{type:"text","leading-icon":"fas fa-envelope",modelValue:n.email,"onUpdate:modelValue":a[0]||(a[0]=o=>n.email=o),name:"email",label:e.$trans("auth.login.props.email_or_username"),error:t(p).email,"onUpdate:error":a[1]||(a[1]=o=>t(p).email=o),autofocus:""},null,8,["modelValue","label","error"]),i(v,{type:"password","leading-icon":"fas fa-key",modelValue:n.password,"onUpdate:modelValue":a[2]||(a[2]=o=>n.password=o),name:"password",label:e.$trans("auth.login.props.password"),error:t(p).password,"onUpdate:error":a[3]||(a[3]=o=>t(p).password=o)},null,8,["modelValue","label","error"]),c("div",K,[i(x,{modelValue:n.rememberMe,"onUpdate:modelValue":a[4]||(a[4]=o=>n.rememberMe=o),name:"rememberMe",label:e.$trans("auth.login.props.remember_me")},null,8,["modelValue","label"]),t(G)?(r(),h(L,{key:0,to:"Password"},{default:s(()=>[w(k(e.$trans("auth.password.forgot_password")),1)]),_:1})):d("",!0)]),t($)?(r(),_("div",Q,[t(R)?g((r(),h(m,{key:0,as:"a",href:"/auth/google/redirect",design:"danger",size:"xs"},{default:s(()=>[W]),_:1})),[[f,e.$trans("config.auth.props.login_with_client",{attribute:"Google"})]]):d("",!0),t(C)?g((r(),h(m,{key:1,as:"a",href:"/auth/facebook/redirect",design:"facebook",size:"xs"},{default:s(()=>[X]),_:1})),[[f,e.$trans("config.auth.props.login_with_client",{attribute:"Facebook"})]]):d("",!0),t(E)?g((r(),h(m,{key:2,as:"a",href:"/auth/twitter/redirect",design:"info",size:"xs"},{default:s(()=>[Y]),_:1})),[[f,e.$trans("config.auth.props.login_with_client",{attribute:"Twitter"})]]):d("",!0),t(T)?g((r(),h(m,{key:3,as:"a",href:"/auth/github/redirect",size:"xs"},{default:s(()=>[Z]),_:1})),[[f,e.$trans("config.auth.props.login_with_client",{attribute:"Github"})]]):d("",!0)])):d("",!0),t(F)?(r(),_("div",ee,[i(L,{to:"Register"},{default:s(()=>[w(k(e.$trans("auth.register.register_title")),1)]),_:1})])):d("",!0),i(m,{type:"submit",block:""},{default:s(()=>[w(k(e.$trans("auth.login.login")),1)]),_:1})])]),_:1},8,["form"])]),_:1})],64)}}};export{oe as default};
