import{s as T,r as a,o as u,h as c,j as e,a as C,d as n,k as w,m as H,A as P,y as A,e as m,i as h,v as g,x as _,c as L,z as M,F as N}from"./app.ca5d1c04.js";const O={class:"grid grid-cols-3 gap-6"},S={class:"col-span-3 sm:col-span-1"},U={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(d,{emit:f}){const p={search:""},r=T({...p});return(v,l)=>{const i=a("BaseInput"),b=a("FilterForm");return u(),c(b,{"init-form":p,form:r,onHide:l[1]||(l[1]=t=>f("hide"))},{default:e(()=>[C("div",O,[C("div",S,[n(i,{type:"text",modelValue:r.search,"onUpdate:modelValue":l[0]||(l[0]=t=>r.search=t),name:"search",label:v.$trans("general.search")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},q={name:"TeamConfigRoleList"},x=Object.assign(q,{props:{team:{type:Object,default(){return{name:""}}}},setup(d){const f=w(),p=H(),r=P("emitter"),v="team/role/",l=A(!1),i=T({}),b=t=>{Object.assign(i,t)};return(t,o)=>{const y=a("PageHeaderAction"),B=a("PageHeader"),F=a("ParentTransition"),$=a("DataCell"),I=a("FloatingMenuItem"),k=a("FloatingMenu"),R=a("DataRow"),D=a("BaseButton"),V=a("DataTable"),j=a("ListItem");return u(),c(j,{"init-url":v,uuid:m(f).params.uuid,onSetItems:b},{header:e(()=>[d.team.uuid?(u(),c(B,{key:0,title:t.$trans("team.config.role.role"),navs:[{label:t.$trans("team.team"),path:"TeamList"},{label:d.team.name,path:{name:"TeamShow",params:{uuid:d.team.uuid}}},{label:t.$trans("team.config.config"),path:"TeamConfig"}]},{default:e(()=>[n(y,{url:`teams/${d.team.uuid}/roles/`,name:"TeamConfigRole",title:t.$trans("team.config.role.role"),actions:["create","filter"],"dropdown-actions":["print","pdf","excel"],onToggleFilter:o[0]||(o[0]=s=>l.value=!l.value)},null,8,["url","title"])]),_:1},8,["title","navs"])):h("",!0)]),filter:e(()=>[n(F,{appear:"",visibility:l.value},{default:e(()=>[n(U,{onRefresh:o[1]||(o[1]=s=>m(r).emit("listItems")),onHide:o[2]||(o[2]=s=>l.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[n(F,{appear:"",visibility:!0},{default:e(()=>[n(V,{header:i.headers,meta:i.meta,module:"team.config.role",onRefresh:o[4]||(o[4]=s=>m(r).emit("listItems"))},{actionButton:e(()=>[n(D,{onClick:o[3]||(o[3]=s=>m(p).push({name:"TeamConfigRoleCreate"}))},{default:e(()=>[g(_(t.$trans("global.add",{attribute:t.$trans("team.config.role.role")})),1)]),_:1})]),default:e(()=>[(u(!0),L(N,null,M(i.data,s=>(u(),c(R,{key:s.uuid},{default:e(()=>[n($,{name:"name"},{default:e(()=>[g(_(s.label),1)]),_:2},1024),n($,{name:"createdAt"},{default:e(()=>[g(_(s.createdAt),1)]),_:2},1024),n($,{name:"action"},{default:e(()=>[s.isDefault?h("",!0):(u(),c(k,{key:0},{default:e(()=>[n(I,{icon:"fas fa-trash",onClick:z=>m(r).emit("deleteItem",{uuid:m(f).params.uuid,moduleUuid:s.uuid})},{default:e(()=>[g(_(t.$trans("general.delete")),1)]),_:2},1032,["onClick"])]),_:2},1024))]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{x as default};
