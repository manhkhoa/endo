import{s as V,r as n,o as y,h as $,j as e,a as E,d as t,k as j,m as L,A as M,p as C,y as N,e as l,i as D,v as i,x as s,c as B,z as S,F as I}from"./app.ca5d1c04.js";const U={class:"grid grid-cols-3 gap-6"},O={class:"col-span-3 sm:col-span-1"},z={class:"col-span-3 sm:col-span-1"},q={__name:"Filter",emits:["hide"],setup(m,{emit:k}){const p={headline:"",location:""},r=V({...p});return(g,d)=>{const c=n("BaseInput"),v=n("FilterForm");return y(),$(v,{"init-form":p,form:r,onHide:d[2]||(d[2]=_=>k("hide"))},{default:e(()=>[E("div",U,[E("div",O,[t(c,{type:"text",modelValue:r.headline,"onUpdate:modelValue":d[0]||(d[0]=_=>r.headline=_),name:"headline",label:g.$trans("employee.experience.props.headline")},null,8,["modelValue","label"])]),E("div",z,[t(c,{type:"text",modelValue:r.location,"onUpdate:modelValue":d[1]||(d[1]=_=>r.location=_),name:"location",label:g.$trans("employee.experience.props.location")},null,8,["modelValue","label"])])])]),_:1},8,["form"])}}},G={name:"EmployeeExperienceList"},K=Object.assign(G,{props:{employee:{type:Object,default(){return{}}}},setup(m){const k=j(),p=L(),r=M("emitter");let g=["filter"];C("employee:edit")&&g.unshift("create");const d="employee/experience/",c=N(!1),v=V({}),_=o=>{Object.assign(v,o)};return(o,u)=>{const w=n("PageHeaderAction"),T=n("PageHeader"),F=n("ParentTransition"),f=n("DataCell"),h=n("FloatingMenuItem"),x=n("FloatingMenu"),A=n("DataRow"),H=n("BaseButton"),P=n("DataTable"),R=n("ListItem");return y(),$(R,{"init-url":d,uuid:l(k).params.uuid,onSetItems:_},{header:e(()=>[m.employee.uuid?(y(),$(T,{key:0,title:o.$trans("employee.experience.experience"),navs:[{label:o.$trans("employee.employee"),path:"Employee"},{label:m.employee.contact.name,path:{name:"EmployeeShow",params:{uuid:m.employee.uuid}}}]},{default:e(()=>[t(w,{url:`employees/${m.employee.uuid}/experiences/`,name:"EmployeeExperience",title:o.$trans("employee.experience.experience"),actions:l(g),"dropdown-actions":["print","pdf","excel"],onToggleFilter:u[0]||(u[0]=a=>c.value=!c.value)},null,8,["url","title","actions"])]),_:1},8,["title","navs"])):D("",!0)]),filter:e(()=>[t(F,{appear:"",visibility:c.value},{default:e(()=>[t(q,{onRefresh:u[1]||(u[1]=a=>l(r).emit("listItems")),onHide:u[2]||(u[2]=a=>c.value=!1)})]),_:1},8,["visibility"])]),default:e(()=>[t(F,{appear:"",visibility:!0},{default:e(()=>[t(P,{header:v.headers,meta:v.meta,module:"employee.experience",onRefresh:u[4]||(u[4]=a=>l(r).emit("listItems"))},{actionButton:e(()=>[l(C)("employee:edit")?(y(),$(H,{key:0,onClick:u[3]||(u[3]=a=>l(p).push({name:"EmployeeExperienceCreate"}))},{default:e(()=>[i(s(o.$trans("global.add",{attribute:o.$trans("employee.experience.experience")})),1)]),_:1})):D("",!0)]),default:e(()=>[(y(!0),B(I,null,S(v.data,a=>(y(),$(A,{key:a.uuid},{default:e(()=>[t(f,{name:"headline"},{default:e(()=>[i(s(a.headline),1)]),_:2},1024),t(f,{name:"location"},{default:e(()=>[i(s(a.location),1)]),_:2},1024),t(f,{name:"employmentType"},{default:e(()=>[i(s(a.employmentType.name),1)]),_:2},1024),t(f,{name:"startDate"},{default:e(()=>[i(s(a.startDateDisplay),1)]),_:2},1024),t(f,{name:"endDate"},{default:e(()=>[i(s(a.endDateDisplay),1)]),_:2},1024),t(f,{name:"createdAt"},{default:e(()=>[i(s(a.createdAt),1)]),_:2},1024),t(f,{name:"action"},{default:e(()=>[t(x,null,{default:e(()=>[t(h,{icon:"fas fa-arrow-circle-right",onClick:b=>l(p).push({name:"EmployeeExperienceShow",params:{uuid:m.employee.uuid,muuid:a.uuid}})},{default:e(()=>[i(s(o.$trans("general.show")),1)]),_:2},1032,["onClick"]),l(C)("employee:edit")?(y(),B(I,{key:0},[t(h,{icon:"fas fa-edit",onClick:b=>l(p).push({name:"EmployeeExperienceEdit",params:{uuid:m.employee.uuid,muuid:a.uuid}})},{default:e(()=>[i(s(o.$trans("general.edit")),1)]),_:2},1032,["onClick"]),t(h,{icon:"fas fa-copy",onClick:b=>l(p).push({name:"EmployeeExperienceDuplicate",params:{uuid:m.employee.uuid,muuid:a.uuid}})},{default:e(()=>[i(s(o.$trans("general.duplicate")),1)]),_:2},1032,["onClick"]),t(h,{icon:"fas fa-trash",onClick:b=>l(r).emit("deleteItem",{uuid:m.employee.uuid,moduleUuid:a.uuid})},{default:e(()=>[i(s(o.$trans("general.delete")),1)]),_:2},1032,["onClick"])],64)):D("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1},8,["uuid"])}}});export{K as default};
