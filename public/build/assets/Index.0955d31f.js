import{k as L,s as w,t as J,r as i,o as u,h as g,j as a,a as p,d as s,i as $,m as K,A as Q,p as D,y as I,e as m,v as c,x as l,c as j,z as F,F as E}from"./app.ca5d1c04.js";const W={class:"grid grid-cols-3 gap-6"},X={class:"col-span-3 sm:col-span-1"},Y={class:"col-span-3 sm:col-span-1"},Z={class:"col-span-3 sm:col-span-1"},x={class:"col-span-3 sm:col-span-1"},ee={class:"col-span-3 sm:col-span-1"},te={class:"col-span-3 sm:col-span-1"},ae={class:"col-span-3 sm:col-span-1"},ne={class:"col-span-3 sm:col-span-1"},oe={__name:"Filter",emits:["hide"],setup(q,{emit:V}){const y=L(),v={codeNumber:"",name:"",joiningStartDate:"",joiningEndDate:"",leavingStartDate:"",leavingEndDate:"",department:"",designation:"",branch:"",employmentStatus:""},o=w({...v}),r=w({department:"",designation:"",branch:"",employmentStatus:"",isLoaded:!(y.query.department||y.query.designation||y.query.branch||y.query.employmentStatus)});return J(async()=>{r.department=y.query.department,r.designation=y.query.designation,r.branch=y.query.branch,r.employmentStatus=y.query.employmentStatus,r.isLoaded=!0}),(d,n)=>{const h=i("BaseInput"),f=i("DatePicker"),S=i("BaseSelectSearch"),b=i("FilterForm");return u(),g(b,{"init-form":v,form:o,onHide:n[10]||(n[10]=e=>V("hide"))},{default:a(()=>[p("div",W,[p("div",X,[s(h,{type:"text",modelValue:o.codeNumber,"onUpdate:modelValue":n[0]||(n[0]=e=>o.codeNumber=e),name:"codeNumber",label:d.$trans("employee.props.code_number")},null,8,["modelValue","label"])]),p("div",Y,[s(h,{type:"text",modelValue:o.name,"onUpdate:modelValue":n[1]||(n[1]=e=>o.name=e),name:"name",label:d.$trans("contact.props.name")},null,8,["modelValue","label"])]),p("div",Z,[s(f,{start:o.joiningStartDate,"onUpdate:start":n[2]||(n[2]=e=>o.joiningStartDate=e),end:o.joiningEndDate,"onUpdate:end":n[3]||(n[3]=e=>o.joiningEndDate=e),name:"joiningDateBetween",as:"range",label:d.$trans("global.date_between",{attribute:d.$trans("employee.props.joining_date")})},null,8,["start","end","label"])]),p("div",x,[s(f,{start:o.leavingStartDate,"onUpdate:start":n[4]||(n[4]=e=>o.leavingStartDate=e),end:o.leavingEndDate,"onUpdate:end":n[5]||(n[5]=e=>o.leavingEndDate=e),name:"leavingDateBetween",as:"range",label:d.$trans("global.date_between",{attribute:d.$trans("employee.props.leaving_date")})},null,8,["start","end","label"])]),p("div",ee,[r.isLoaded?(u(),g(S,{key:0,name:"department",label:d.$trans("global.select",{attribute:d.$trans("company.department.department")}),modelValue:o.department,"onUpdate:modelValue":n[6]||(n[6]=e=>o.department=e),"value-prop":"uuid","init-search":r.department,"search-action":"company/department/list"},null,8,["label","modelValue","init-search"])):$("",!0)]),p("div",te,[r.isLoaded?(u(),g(S,{key:0,name:"designation",label:d.$trans("global.select",{attribute:d.$trans("company.designation.designation")}),modelValue:o.designation,"onUpdate:modelValue":n[7]||(n[7]=e=>o.designation=e),"value-prop":"uuid","init-search":r.designation,"search-action":"company/designation/list"},null,8,["label","modelValue","init-search"])):$("",!0)]),p("div",ae,[r.isLoaded?(u(),g(S,{key:0,name:"branch",label:d.$trans("global.select",{attribute:d.$trans("company.branch.branch")}),modelValue:o.branch,"onUpdate:modelValue":n[8]||(n[8]=e=>o.branch=e),"value-prop":"uuid","init-search":r.branch,"search-action":"company/branch/list"},null,8,["label","modelValue","init-search"])):$("",!0)]),p("div",ne,[r.isLoaded?(u(),g(S,{key:0,name:"employmentStatus",label:d.$trans("global.select",{attribute:d.$trans("employee.employment_status.employment_status")}),modelValue:o.employmentStatus,"onUpdate:modelValue":n[9]||(n[9]=e=>o.employmentStatus=e),"value-prop":"uuid","init-search":r.employmentStatus,"search-action":"option/list","additional-search-query":{type:"employment_status"}},null,8,["label","modelValue","init-search"])):$("",!0)])])]),_:1},8,["form"])}}},se={class:"px-4 pt-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4"},le={class:""},ie={class:"text-xs text-gray-500"},re={class:"text-sm text-gray-500 truncate"},de={class:"text-sm text-gray-500"},me={name:"EmployeeList"},pe=Object.assign(me,{setup(q){const V=L(),y=K(),v=Q("emitter");let o=["filter","view"];D("employee:create")&&o.unshift("create"),D("employee:config")&&o.unshift("config");let r=[];D("employee:export")&&(r=["print","pdf","excel"]),D("employee:create")&&r.unshift("import");const d="employee/",n=I(!1),h=I(!1),f=w({}),S=b=>{Object.assign(f,b)};return(b,e)=>{const N=i("PageHeaderAction"),U=i("PageHeader"),P=i("BaseImport"),k=i("ParentTransition"),R=i("CardView"),A=i("Pagination"),C=i("BaseButton"),H=i("CardList"),_=i("DataCell"),B=i("FloatingMenuItem"),T=i("FloatingMenu"),M=i("DataRow"),O=i("DataTable"),z=i("ListItem");return u(),g(z,{"init-url":d,onSetItems:S},{header:a(()=>[s(U,{title:b.$trans("employee.employee"),navs:[]},{default:a(()=>[s(N,{url:"employees/",name:"Employee",title:b.$trans("employee.employee"),actions:m(o),"dropdown-actions":m(r),onToggleFilter:e[0]||(e[0]=t=>n.value=!n.value),onToggleImport:e[1]||(e[1]=t=>h.value=!h.value),onRefresh:e[2]||(e[2]=t=>m(v).emit("listItems"))},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title"])]),import:a(()=>[s(k,{appear:"",visibility:h.value},{default:a(()=>[s(P,{path:"employees/import",onCancelled:e[3]||(e[3]=t=>h.value=!1),onHide:e[4]||(e[4]=t=>h.value=!1),onCompleted:e[5]||(e[5]=t=>m(v).emit("listItems"))})]),_:1},8,["visibility"])]),filter:a(()=>[s(k,{appear:"",visibility:n.value},{default:a(()=>[s(oe,{onRefresh:e[6]||(e[6]=t=>m(v).emit("listItems")),onHide:e[7]||(e[7]=t=>n.value=!1)})]),_:1},8,["visibility"])]),default:a(()=>[m(V).query.view!="list"?(u(),g(k,{key:0,appear:"",visibility:!0},{default:a(()=>[s(H,{header:f.headers,meta:f.meta,module:"employee"},{actionButton:a(()=>[m(D)("employee:create")?(u(),g(C,{key:0,onClick:e[9]||(e[9]=t=>m(y).push({name:"EmployeeCreate"}))},{default:a(()=>[c(l(b.$trans("global.add",{attribute:b.$trans("employee.employee")})),1)]),_:1})):$("",!0)]),default:a(()=>[p("div",se,[(u(!0),j(E,null,F(f.data,t=>(u(),g(R,{key:t.uuid,"img-src":t.photo,path:{name:"EmployeeShow",params:{uuid:t.uuid}}},{title:a(()=>[c(l(t.name)+" ",1),p("span",le,"("+l(t.codeNumber)+")",1)]),default:a(()=>[p("p",ie,l(t.ageShortDisplay),1),p("p",re,l(t.designation)+" @ "+l(t.branch),1),p("p",de,l(t.period),1)]),_:2},1032,["img-src","path"]))),128))]),p("div",null,[s(A,{"card-view":"",meta:f.meta,onRefresh:e[8]||(e[8]=t=>m(v).emit("listItems"))},null,8,["meta"])])]),_:1},8,["header","meta"])]),_:1})):$("",!0),m(V).query.view=="list"?(u(),g(k,{key:1,appear:"",visibility:!0},{default:a(()=>[s(O,{header:f.headers,meta:f.meta,module:"employee",onRefresh:e[11]||(e[11]=t=>m(v).emit("listItems"))},{actionButton:a(()=>[m(D)("employee:create")?(u(),g(C,{key:0,onClick:e[10]||(e[10]=t=>m(y).push({name:"EmployeeCreate"}))},{default:a(()=>[c(l(b.$trans("global.add",{attribute:b.$trans("employee.employee")})),1)]),_:1})):$("",!0)]),default:a(()=>[(u(!0),j(E,null,F(f.data,t=>(u(),g(M,{key:t.uuid},{default:a(()=>[s(_,{name:"codeNumber"},{default:a(()=>[c(l(t.codeNumber),1)]),_:2},1024),s(_,{name:"name"},{default:a(()=>[c(l(t.name),1)]),_:2},1024),s(_,{name:"joiningDate"},{default:a(()=>[c(l(t.joiningDateDisplay),1)]),_:2},1024),s(_,{name:"branch"},{default:a(()=>[c(l(t.employmentStatus),1)]),_:2},1024),s(_,{name:"department"},{default:a(()=>[c(l(t.department),1)]),_:2},1024),s(_,{name:"designation"},{default:a(()=>[c(l(t.designation),1)]),_:2},1024),s(_,{name:"branch"},{default:a(()=>[c(l(t.branch),1)]),_:2},1024),s(_,{name:"createdAt"},{default:a(()=>[c(l(t.createdAt),1)]),_:2},1024),s(_,{name:"action"},{default:a(()=>[s(T,null,{default:a(()=>[s(B,{icon:"fas fa-arrow-circle-right",onClick:G=>m(y).push({name:"EmployeeShow",params:{uuid:t.uuid}})},{default:a(()=>[c(l(b.$trans("general.show")),1)]),_:2},1032,["onClick"]),m(D)("employee:delete")&&!t.isDefault?(u(),g(B,{key:0,icon:"fas fa-trash",onClick:G=>m(v).emit("deleteItem",{uuid:t.uuid})},{default:a(()=>[c(l(b.$trans("general.delete")),1)]),_:2},1032,["onClick"])):$("",!0)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})):$("",!0)]),_:1})}}});export{pe as default};
