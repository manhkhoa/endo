import{s as V,r as l,o as r,h as _,j as e,a as v,d as s,m as N,A as O,p as D,y as h,e as m,v as c,x as f,i as B,c as I,z as w,F as j}from"./app.ca5d1c04.js";const x={class:"grid grid-cols-3 gap-6"},z={class:"col-span-3 sm:col-span-1"},G={class:"col-span-3 sm:col-span-1"},J={class:"col-span-3 sm:col-span-1"},K={class:"col-span-3 sm:col-span-1"},Q={__name:"Filter",props:{preRequisites:{type:Object,default(){return{}}}},emits:["hide"],setup(R,{emit:$}){const b=R,g={name:"",email:"",username:"",status:""},o=V({...g}),y=V({statuses:b.preRequisites.statuses});return(d,n)=>{const u=l("BaseInput"),F=l("BaseSelect"),k=l("FilterForm");return r(),_(k,{"init-form":g,form:o,onHide:n[4]||(n[4]=t=>$("hide"))},{default:e(()=>[v("div",x,[v("div",z,[s(u,{type:"text",modelValue:o.name,"onUpdate:modelValue":n[0]||(n[0]=t=>o.name=t),name:"name",label:d.$trans("user.props.name")},null,8,["modelValue","label"])]),v("div",G,[s(u,{type:"text",modelValue:o.email,"onUpdate:modelValue":n[1]||(n[1]=t=>o.email=t),name:"email",label:d.$trans("user.props.email")},null,8,["modelValue","label"])]),v("div",J,[s(u,{type:"text",modelValue:o.username,"onUpdate:modelValue":n[2]||(n[2]=t=>o.username=t),name:"username",label:d.$trans("user.props.username")},null,8,["modelValue","label"])]),v("div",K,[s(F,{modelValue:o.status,"onUpdate:modelValue":n[3]||(n[3]=t=>o.status=t),name:"status",label:d.$trans("user.status"),options:y.statuses},null,8,["modelValue","label","options"])])])]),_:1},8,["form"])}}},W={name:"UserList"},Y=Object.assign(W,{setup(R){const $=N(),b=O("emitter");let g=["filter"];D("user:create")&&g.unshift("create");let o=[];D("user:export")&&(o=["print","pdf","excel"]);const y="user/",d=V({}),n=h(!1),u=V({}),F=t=>{Object.assign(u,t)},k=t=>{Object.assign(d,t)};return(t,i)=>{const A=l("PageHeaderAction"),H=l("PageHeader"),U=l("ParentTransition"),p=l("DataCell"),q=l("BaseBadge"),P=l("FloatingMenuItem"),T=l("FloatingMenu"),S=l("DataRow"),E=l("BaseButton"),L=l("DataTable"),M=l("ListItem");return r(),_(M,{"init-url":y,"pre-requisites":!0,onSetPreRequisites:k,onSetItems:F},{header:e(()=>[s(H,{title:t.$trans("user.user")},{default:e(()=>[s(A,{url:"users/",name:"User",title:t.$trans("user.user"),actions:m(g),"dropdown-actions":m(o),onToggleFilter:i[0]||(i[0]=a=>n.value=!n.value)},null,8,["title","actions","dropdown-actions"])]),_:1},8,["title"])]),filter:e(()=>[s(U,{appear:"",visibility:n.value},{default:e(()=>[s(Q,{onRefresh:i[1]||(i[1]=a=>m(b).emit("listItems")),"pre-requisites":d,onHide:i[2]||(i[2]=a=>n.value=!1)},null,8,["pre-requisites"])]),_:1},8,["visibility"])]),default:e(()=>[s(U,{appear:"",visibility:!0},{default:e(()=>[s(L,{header:u.headers,meta:u.meta,module:"user",onRefresh:i[4]||(i[4]=a=>m(b).emit("listItems"))},{actionButton:e(()=>[m(D)("user:create")?(r(),_(E,{key:0,onClick:i[3]||(i[3]=a=>m($).push({name:"UserCreate"}))},{default:e(()=>[c(f(t.$trans("global.add",{attribute:t.$trans("user.user")})),1)]),_:1})):B("",!0)]),default:e(()=>[(r(!0),I(j,null,w(u.data,a=>(r(),_(S,{key:a.uuid},{default:e(()=>[s(p,{name:"name"},{default:e(()=>[c(f(a.profile.name),1)]),_:2},1024),s(p,{name:"email"},{default:e(()=>[c(f(a.email),1)]),_:2},1024),s(p,{name:"username"},{default:e(()=>[c(f(a.username),1)]),_:2},1024),s(p,{name:"roles"},{default:e(()=>[(r(!0),I(j,null,w(a.roles,C=>(r(),I("div",null,[s(q,{label:C.label},null,8,["label"])]))),256))]),_:2},1024),s(p,{name:"status"},{default:e(()=>[s(q,{label:a.statusDetail.label,design:a.statusDetail.color},null,8,["label","design"])]),_:2},1024),s(p,{name:"createdAt"},{default:e(()=>[c(f(a.createdAt),1)]),_:2},1024),s(p,{name:"action"},{default:e(()=>[a.isEditable||a.isDeletable?(r(),_(T,{key:0},{default:e(()=>[a.isEditable?(r(),_(P,{key:0,icon:"fas fa-edit",onClick:C=>m($).push({name:"UserEdit",params:{uuid:a.uuid}})},{default:e(()=>[c(f(t.$trans("general.edit")),1)]),_:2},1032,["onClick"])):B("",!0),a.isDeletable?(r(),_(P,{key:1,icon:"fas fa-trash",onClick:C=>m(b).emit("deleteItem",{uuid:a.uuid})},{default:e(()=>[c(f(t.$trans("general.delete")),1)]),_:2},1032,["onClick"])):B("",!0)]),_:2},1024)):B("",!0)]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["header","meta"])]),_:1})]),_:1})}}});export{Y as default};
